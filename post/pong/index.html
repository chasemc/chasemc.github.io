<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.34" />
  <meta name="author" content="Chase Clark">
  <meta name="description" content="Graduate Student">

  
  <link rel="alternate" hreflang="en-us" href="/post/pong/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-111767565-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Academic">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Academic">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/pong/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@ChaseClarkatUIC">
  <meta property="twitter:creator" content="@ChaseClarkatUIC">
  
  <meta property="og:site_name" content="Academic">
  <meta property="og:url" content="/post/pong/">
  <meta property="og:title" content="Pong | Academic">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-12-30T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-12-30T00:00:00&#43;00:00">
  

  

  <title>Pong | Academic</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Academic</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Pong</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2017-12-30 00:00:00 &#43;0000 UTC" itemprop="datePublished dateModified">
      Dec 30, 2017
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Chase Clark">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/r">R</a
    >, 
    
    <a href="/categories/personal">Personal</a
    >, 
    
    <a href="/categories/games">Games</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Pong&amp;url=%2fpost%2fpong%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fpong%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fpong%2f&amp;title=Pong"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fpong%2f&amp;title=Pong"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Pong&amp;body=%2fpost%2fpong%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        <p>I am giving a talk about Shiny soon, <a href="https://chasemc.github.io/IDBac">specifically an app I recently created</a>, and part of this will include time for attendees to work on a Shiny app on their own or in groups. There are <a href="https://shiny.rstudio.com/gallery">plenty</a> of sample projects for Shiny but I wanted to do something new-ish.</p>
<p>Something I had wondered for awhile was why there weren’t many games (however simple!) written in R. After awhile of researching, two recent games seemed the best examples:</p>
<ul>
<li><p>The best I’ve seen is <a href="https://deanattali.com/blog/shiny-game-lightsout/">Lights Out</a> by Dean Attali, which is based in Shiny and incorporates interactivity, with pushing lights on and off within a puzzle.</p></li>
<li><p>The second isn’t quite a game, but made it part-way with a <a href="https://www.r-bloggers.com/r-cade-games-simulating-the-legendary-game-of-pong">simulation of pong</a> by Peter Prevos.</p></li>
</ul>
<p>I chose GGVis to keep on with my goal of getting better with tidyverse but also, and more importantly, because it was built to play well with Shiny.</p>
<p>The first challenge is the plot itself, we prefer a blank workspace (no axes or grids). But the player will need to see boundary-lines for the top, right and bottom sides.</p>
<pre class="r"><code>library(&quot;shiny&quot;)
library(&quot;dplyr&quot;)
library(&quot;ggvis&quot;)

boundaries &lt;- tibble(x = c(0, 50, 50, 0), y = c(0, 0, 50, 50))

ggvis(x = ~x, y = ~y) %&gt;% 
  layer_paths(data=boundaries) %&gt;% 
  scale_numeric( &quot;x&quot;, domain = c(0,50)) %&gt;% 
  scale_numeric( &quot;y&quot;, domain = c(0,50)) %&gt;%
  hide_axis(scale = &quot;x&quot;) %&gt;%
  hide_axis(scale = &quot;y&quot;) </code></pre>
<p>Eventually we will associate the plot to a UI element via</p>
<pre class="r"><code>ggvisOutput(&quot;p&quot;)

and 

ggvis(x = ~x, y = ~y) %&gt;% 
  ... %&gt;% 
   bind_shiny(&quot;p&quot;)</code></pre>
<p>The harder part was getting the key-bindings to work, but it’s really not so bad. There are key-bindings in GGVis, but they weren’t working all that great for the needed purpose here.</p>
<pre class="r"><code># The following code was modified based on https://stackoverflow.com/questions/24973549/r-shiny-key-input-binding
    tags$style(type=&quot;text/css&quot;, &quot;.recalculating {opacity: 1.0;}&quot;),
    tags$script(&#39;$(document).on(&quot;keydown&quot;, function (e) {
                Shiny.onInputChange(&quot;mydata&quot;, [e.which, Math.random()]  );
                });&#39;)  </code></pre>
<p>The Math.random() above is important, as shiny will only recognize the first keystroke of the same type (down, down will only register as one down). By including Math.random() all repetitive keystrokes are returned.</p>
<p>Then we look for the pressed key with <code>input$mydata</code></p>
<pre class="r"><code># Update paddle position based on keyboard input  
              # Key map  
                 # left  = 37
                 # right = 39
                 # up ter   = 38
                 # down  = 40

  observeEvent(input$mydata,{
    if((is.null(input$mydata))){
      
       playerObjectInitial}else{
          
          if(input$mydata[1] == 37){
            # left arrow key is empty
          }else if(input$mydata[1] == 39){
            # right arrow key is empty
          }else if(input$mydata[1] == 38 &amp;&amp; max(paddleHeight$y) &lt; ymax - paddleSpeed){
            paddleHeight &lt;&lt;- paddleHeight %&gt;% mutate(y=y+paddleSpeed)
          }else if(input$mydata[1] == 40 &amp;&amp; min(paddleHeight$y) &gt; ymin + paddleSpeed){
            paddleHeight &lt;&lt;-   paddleHeight %&gt;% mutate(y=y-paddleSpeed)
          }
     }
  })</code></pre>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/r">R</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/ggvis">GGVis</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/pong">Pong</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/games">Games</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/interactive">Interactive</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/shiny">Shiny</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/project/posng/">Interactive Pong in R</a></li>
    
  </ul>
</div>




<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    <script async defer src="//maps.googleapis.com/maps/api/js?key="></script>
    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gmaps.js/0.4.25/gmaps.min.js" integrity="sha256-7vjlAeb8OaTrCXZkCNun9djzuB2owUsaO72kXaFDBJs=" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

